function isContained(n,t){if(!(t instanceof Array))return!1;for(var i=0,r=t.length;i<r;i++)if(n==t[i])return!0;return!1}function ajaxCallback(n){n.success?(alertMsg(n.errorMessage),location.reload()):alertMsg(n.errorMessage)}function selectFile1(n){var t=$(n);t.parent("#wysiwygEditorAnswer").find("#answerNomalAttachment").click()}function selectFile2(n){var t=$(n);t.parent("#wysiwygEditorAnswer").find("#practicalNomalAttachment").click()}function returnToList(){var n=$("#question-edit-form #ksystemId").val();turnPage(basePath+"/home#questionsub/index?ksystemId="+n)}function submitToEdit(){var n,t,i,r,f,s,h;if($("#editButton").attr("disabled",!0),n=$("input[type='radio']:checked").val(),isnull(wysiwygEditorSolution.text())?$("#question-edit-form #solution").val(""):$("#question-edit-form #solution").val(wysiwygEditorSolution.html()),$("#divText").html(wysiwygEditorSolution.html()),$("#question-edit-form #solutionText").val($("#divText").text()),n==0||n==1||n==2?(isnull(wysiwygEditorNoFilling.text())?$("#question-edit-form #questionHeadNoFilling").val(""):$("#question-edit-form #questionHeadNoFilling").val(wysiwygEditorNoFilling.html()),$("#divText").html(wysiwygEditorNoFilling.html()),$("#question-edit-form #questionHeadNoFillingText").val($("#divText").text())):n==3?(isnull(wysiwygEditorFilling.text())?$("#question-edit-form #questionHeadFilling").val(""):$("#question-edit-form #questionHeadFilling").val(wysiwygEditorFilling.html()),$("#divText").html(wysiwygEditorFilling.html()),$("#question-edit-form #questionHeadFillingText").val($("#divText").text())):n==4?(isnull(wysiwygEditorNoFilling.text())?$("#question-edit-form #questionHeadNoFilling").val(""):$("#question-edit-form #questionHeadNoFilling").val(wysiwygEditorNoFilling.html()),isnull(wysiwygEditorAnswer.text())?$("#question-edit-form #answer").val(""):$("#question-edit-form #answer").val(wysiwygEditorAnswer.html()),$("#divText").html(wysiwygEditorNoFilling.html()),$("#question-edit-form #questionHeadNoFillingText").val($("#divText").text()),$("#divText").html(wysiwygEditorAnswer.html()),$("#question-edit-form #answerText").val($("#divText").text())):(n==5||n==6)&&(isnull(wysiwygEditorNoFilling.text())?$("#question-edit-form #questionHeadNoFilling").val(""):$("#question-edit-form #questionHeadNoFilling").val(wysiwygEditorNoFilling.html()),$("#divText").html(wysiwygEditorNoFilling.html()),$("#question-edit-form #questionHeadNoFillingText").val($("#divText").text())),n==0){if(t=$('input:radio[name="radioOption"]:checked').val(),t===undefined||t.length<1)return $("#editButton").attr("disabled",!1),$("#singleHintDiv").empty(),$("#singleHintDiv").append(singleError),!1}else if(n==1&&(t=[],$('input[name="multipleOption"]:checked').each(function(){t.push($(this).val())}),t===undefined||t.length<2))return $("#editButton").attr("disabled",!1),$("#multipleHintDiv").empty(),$("#multipleHintDiv").append(multiplError),!1;if($("#question-edit-form").valid()||$("#editButton").attr("disabled",!1),$("#question-edit-form").valid()){if(i=[],n==0){if(!validateOption())return!1;$("#chooseOption1_ul").find("[name^='radioOptionValue']").each(function(){if(-1<$.inArray(this.value,i))return $("#editButton").attr("disabled",!1),$("#choose_answer_option").append(OptionRepeatError),i=!1,!1;isnull(this.value)||i.push(this.value)})}if(!i)return;if(r=[],n==1){if(!validateOption())return!1;$("#multipleOption1_ul").find("[name^='multipleOption']").each(function(){if(-1<$.inArray(this.value,r))return $("#editButton").attr("disabled",!1),$("#multipleOption1_ul").append(OptionRepeatError),r=!1,!1;isnull(this.value)||r.push(this.value)})}if(!r)return;if(n==3){var e=$("#question-edit-form #questionHeadFilling").val(),u=e.match(/【([^【^】]+)】/g),o=e.match(/【】/g);if(u!=null&&u.length>0&&!(o!=null&&o.length!=0)){for(f=0;f<u.length;f++)if(s=u[f].substring(1,u[f].length-1),isnull($.trim(s.replace(/&nbsp;/g,""))))return $("#editButton").attr("disabled",!1),$("#fillingError").append(fillingError),!1}else return $("#editButton").attr("disabled",!1),$("#fillingError").append(fillingError),!1}h=$("#question-edit-form").serialize();ajaxRequest(basePath+"/question/update",h,function(n){n.success&&turnPage(basePath+"/home#questionsub/index?ksystemId="+n.resultObject.ksystemId)})}}function manageDialogEdit(){var n=$("#question-edit-form #ksystemId").val(),t=$("#question-edit-form #knowledgeIds").val();dialog=openDialog("knowledgeDialog","knowledgeDialogDiv","修改知识体系",730,460,!0,"保存",saveKnowledgeEdit);clearTree();initCommonZtrees("leftResource","rightResource","question/findDataForTreeRight",{knowledgeIds:t},"right",function(){initCommonZtrees("leftResource","rightResource","question/findDataForTreeLeft",{ksystemId:n},"left")})}function saveKnowledgeEdit(){viewRightTree(function(n){var t=[],i=[];$(n).each(function(n,r){t.push(r.id);i.push(r.name)});$("#question-edit-form #knowledgeNames").val(i);$("#question-edit-form #knowledgeIds").val(t);dialog.dialog("close")})}function multiDelete(n){var i=$(n).closest("li").nextAll(),t,r;if($(n).closest("li").remove(),i.length>0)for(t=0;t<i.length;t++)r=OptionIndex[$(i[t]).index()],$(i[t]).find("span").first().html(r+"："),$(i[t]).find("input[name='multipleOption']").val(r),$(i[t]).find("input[id^='imgFile']").attr("id","imgFile"+($(i[t]).index()+1)),$(i[t]).find("input[id^='uploadify']").attr("id","uploadify"+($(i[t]).index()+1)),$(i[t]).find("input[name^='uploadify']").attr("name","uploadify"+($(i[t]).index()+1)),$(i[t]).find("input[name^='multipleOptionValue']").attr("name","multipleOptionValue"+($(i[t]).index()+1));validateOption()}function singleDelete(n){var i=$(n).closest("li").nextAll(),t,r;if($(n).closest("li").remove(),i.length>0)for(t=0;t<i.length;t++)r=OptionIndex[$(i[t]).index()],$(i[t]).find("span").first().html(r+"："),$(i[t]).find("input[name='radioOption']").val(r),$(i[t]).find("input[id^='imgFile']").attr("id","imgFile"+($(i[t]).index()+1)),$(i[t]).find("input[id^='uploadify']").attr("id","uploadify"+($(i[t]).index()+1)),$(i[t]).find("input[name^='uploadify']").attr("name","uploadify"+($(i[t]).index()+1)),$(i[t]).find("input[name^='radioOptionValue']").attr("name","radioOptionValue"+($(i[t]).index()+1));validateOption()}function addRadio(){var t="",i=$("#chooseOption1_ul").children("li").last().find("input[name='radioOption']").attr("value"),n;for(i=="K"&&($("#singleHintDiv").empty(),$("#singleHintDiv").append(OptionMaxError)),n=0;n<OptionIndex.length;n++)if(n>=OptionIndex.length-1)$(".mengban").show(),$(".prompt").show();else if(i==OptionIndex[n]){t+='<li>    \t\t  \t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t    \t      \t\t<input type="radio" value="'+OptionIndex[n+1]+'" name="radioOption">\t    \t      \t\t<span>'+OptionIndex[n+1]+'：<\/span>\t    \t      \t\t<input name="radioOptionValue'+(n+2)+'" type="text" style="width:81%" value="" maxlength="30">\t    \t      \t<\/div>\t    \t      \t<div class="form-group">\t    \t      \t\t<div class="col-sm-1">\t    \t      \t\t\t<input type="hidden" name="uploadify'+(n+2)+'" id="uploadify'+(n+2)+'"  >\t    \t      \t\t\t<input type="file"   name="attachment" id="imgFile'+(n+2)+'" class="uploadImg" value="" />\t    \t      \t\t<\/div>\t\t    \t      \t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t    \t      \t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="singleDelete(this)"\t\t    \t      \t<\/div>\t    \t      \t<\/div>              <\/li>';break}$("#chooseOption1_ul").append(t);createImageUpload($("#imgFile"+(n+2)));$(".remove").click(function(){console.info($(this).closest("div"));console.info($(this).closest("div").find("input:hidden"));$(this).closest("div").find("input:hidden").val("");validateOption()});validateOption()}function addCheckbox(){var t="",i=$("input[name='multipleOption']").last().attr("value"),n;for(i=="K"&&($("#multipleHintDiv").empty(),$("#multipleHintDiv").append(OptionMaxError)),n=0;n<OptionIndex.length;n++)if(n>=OptionIndex.length-1)$(".mengban").show(),$(".prompt").show();else if(i==OptionIndex[n]){t+='<li>        \t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t        \t    <input type="checkbox" class="question_options_check" value="'+OptionIndex[n+1]+'" name="multipleOption">\t\t        \t    <span>'+OptionIndex[n+1]+'：<\/span>\t\t                <input name="multipleOptionValue'+(n+2)+'" type="text" style="width:81%" value="" maxlength="30">\t\t            <\/div>\t\t            <div class="form-group">\t\t                <div class="col-sm-2">\t\t                \t<input type="hidden" name="uploadify'+(n+2)+'" id="uploadify'+(n+2)+'"  >\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(n+2)+'" class="uploadImg" value="" />\t\t\t        \t<\/div>\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="multiDelete(this)"\t\t\t            <\/div>\t\t\t        <\/div>                 <\/li>';break}$("#multipleOption1_ul").append(t);createImageUpload($("#imgFile"+(n+2)));$(".remove").click(function(){console.info($(this).closest("div"));console.info($(this).closest("div").find("input:hidden"));$(this).closest("div").find("input:hidden").val("");validateOption()});validateOption()}function validateImgSize(n,t){var r=$("#"+n).val(),i;return!isnull(r)&&(i=fileChangeGetSize(document.getElementById(n)),i>t)?!1:!0}function fileChangeGetSize(n){var r=/msie/i.test(navigator.userAgent)&&!window.opera,t=0;if(r&&!n.files){var u=n.value,f=new ActiveXObject("Scripting.FileSystemObject"),i=fileobject.GetFile(n.value),e=i.Size;t=i.Size}else t=n.files[0].size;return t/1048576}function editAfterBulr(){isnull(wysiwygEditorNoFilling.text())?$("#question-edit-form #questionHeadNoFilling").val(""):$("#question-edit-form #questionHeadNoFilling").val(wysiwygEditorNoFilling.html());$("#question-edit-form").validate().element($("#questionHeadNoFilling"))}function editAfterBulrBlank(){isnull(wysiwygEditorFilling.text())?$("#question-edit-form #questionHeadFilling").val(""):$("#question-edit-form #questionHeadFilling").val(wysiwygEditorFilling.html());$("#question-edit-form").validate().element($("#questionHeadFilling"))}function editAfterBulrAnswer(){isnull(wysiwygEditorAnswer.text())?$("#question-edit-form #answer").val(""):$("#question-edit-form #answer").val(wysiwygEditorAnswer.html());$("#question-edit-form").validate().element($("#answer"))}function validateChooseOption(){$("#choose_answer_option").find(".error").remove();var n=!0,t=$("#chooseOption1_ul").children("li");return $(t).each(function(){if(isnull($(this).find("input[name^='radioOptionValue']").val())&&isnull($(this).find("input[id^='uploadify']").val())){n=!1;return}}),n?!0:($("#editButton").attr("disabled",!1),$("#choose_answer_option").append(optionBlankError),!1)}function validateMultipleOption(){$("#multiple_answer_option").find(".error").remove();var n=!0,t=$("#multipleOption1_ul").children("li");return $(t).each(function(){if(isnull($(this).find("input[name^='multipleOptionValue']").val())&&isnull($(this).find("input[id^='uploadify']").val())){n=!1;return}}),n?!0:($("#editButton").attr("disabled",!1),$("#multiple_answer_option").append(optionBlankError),!1)}function validateOption(){var n=$('input[name="questionTypeRadio"]').filter(":checked").val();return n=="0"?validateChooseOption():n=="1"?validateMultipleOption():void 0}var objData,questionForm,editFormEl="#question-edit-form",editValidateForm,OptionIndex=["A","B","C","D","E","F","G","H","I","J","K"],wysiwygEditorNoFilling,wysiwygEditorSolution,wysiwygEditorFilling,wysiwygEditorAnswer;$(function(){questionForm=$("#question-edit-form").validate({messages:{questionHead:{required:"题干不能为空"},inputPerson:{required:"录入人不能为空"},ksystemId:{required:"知识体系不能为空"},knowledgeNames:{required:"知识点不能为空"},answer:{required:"正确答案不能为空"}},errorPlacement:function(n,t){n.appendTo(t.parent())}});editValidateForm=$(editFormEl).validate({messages:{}})});$(function(){var n="",c=$("#questionId").val(),v=$("#ksystemId").val(),u=$("#questionType").val(),y=$("#questionNo").val(),p=$("#createTime").val(),r=eval($("#questionOptions").val()),f=$("#questionSolution").html(),e=$("#head").html(),a,t,s;if(u==0)t=eval($("#questionAnswer").html()),$("#multiple_one").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionOptionValueEdit").html(multipleOne),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionSolutionValueEdit").html(solution),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorNoFilling.html(e),wysiwygEditorSolution.html(f),a={},r!=null&&ajaxRequest("question/getQopList",{questionId:c,questionType:null,optionName:null},function(i){var f,e,u;if(i!=null){for(f=new Map,e=0;e<i.length;e++)f.put(i[e].optionName,i[e].attachmentId);for(u=0;u<r.length;u++)n+=t==u?u>1?f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" checked class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="singleDelete(this)"\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t                <\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" checked class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t            \t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t            \t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t            \t\t\t\t<\/div>\t\t\t\t\t\t            \t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t            \t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="singleDelete(this)"\t\t\t\t\t\t            \t\t\t<\/div>\t\t\t\t\t            \t\t\t<\/div>\t\t\t\t\t            \t\t<\/li>':f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" checked class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" checked class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':u>1?f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="singleDelete(this)"\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t                <\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="singleDelete(this)"\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right ">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="radio" class="question_options_radio" value="'+OptionIndex[u]+'" name="radioOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="radioOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-1">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right ">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>'}for($("#question-edit-form #chooseOption1_ul").html(n),createImageUpload($(".uploadImg")),u=0;u<r.length;u++)$("input[questionOptions="+u+"]").val(r[u]),f.get(OptionIndex[u])!=null&&reviewImage("imgFile"+(u+1)+"",basePath+"/attachmentCenter/download?aid="+f.get(OptionIndex[u]));console.info($(".remove"));$(".remove").click(function(){$(this).closest("div").find("input:hidden").val("");validateOption()})});else if(u==1)t=eval($("#questionAnswer").html()),$("#multiple_many").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionOptionValueEdit").html(multipleMany),createImageUpload($(".uploadImg")),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionSolutionValueEdit").html(solution),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorNoFilling.html(e),wysiwygEditorSolution.html(f),r!=null&&ajaxRequest("question/getQopList",{questionId:c,questionType:null,optionName:null},function(i){var f,e,u;if(i!=null){for(f=new Map,e=0;e<i.length;e++)f.put(i[e].optionName,i[e].attachmentId);for(u=0;u<r.length;u++)n+=u>1?isContained(u,t)?f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" checked class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="multiDelete(this)">\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" checked class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="multiDelete(this)">\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="multiDelete(this)">\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="button" class="answer_delete_btn chooseOption1_delete_btn" value="删除" onclick="multiDelete(this)"\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':isContained(u,t)?f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" checked class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" checked class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':f.get(OptionIndex[u])!=null?'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'" value="'+f.get(OptionIndex[u])+'" >\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>':'<li>\t\t\t\t\t\t\t\t\t\t\t<div class="dw"><div class="col-xs-3 paddingleft0px paddingright0px">\t\t\t\t\t\t\t\t\t\t\t\t<input type="checkbox" class="question_options_check" value="'+OptionIndex[u]+'" name="multipleOption">\t\t\t\t\t\t\t\t\t\t\t\t<span>'+OptionIndex[u]+'：<\/span>\t\t\t\t\t\t\t\t\t\t\t\t<input name="multipleOptionValue'+(u+1)+'" type="text" style="width:81%" questionOptions='+u+' value="">\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t<div class="form-group">\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-sm-2">\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="hidden" name="uploadify'+(u+1)+'" id="uploadify'+(u+1)+'"  >\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type="file"   name="attachment" id="imgFile'+(u+1)+'" class="uploadImg" value="" />\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t\t\t<div class="col-xs-1 paddingleft0px paddingright0px control-label no-padding-right">\t\t\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t\t<\/div>\t\t\t\t\t\t\t\t\t\t<\/li>'}for($("#question-edit-form #multipleOption1_ul").html(n),createImageUpload($(".uploadImg")),u=0;u<r.length;u++)$("input[questionOptions="+u+"]").val(r[u]),f.get(OptionIndex[u])!=null&&reviewImage("imgFile"+(u+1)+"",basePath+"/attachmentCenter/download?aid="+f.get(OptionIndex[u]));console.info($(".remove"));$(".remove").click(function(){$(this).closest("div").find("input:hidden").val("");validateOption()})});else if(u==2)$("#true_false").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionAnswerValueEdit").html(answerJudge),$("#questionSolutionValueEdit").html(solution),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorNoFilling.html(e),wysiwygEditorSolution.html(f),t=$("#questionAnswer").html(),t=="错"?$("#question-edit-form input[name=judge]").eq(1).attr("checked","checked"):$("#question-edit-form input[name=judge]").eq(0).attr("checked","checked");else if(u==3){$("#empty_spaces").attr("checked",!0);$("#questionOptionValueEdit").empty();$("#questionContentValueEdit").empty();$("#questionAnswerValueEdit").empty();$("#questionContentValueEdit").html(contentTypeFilling);$("#questionSolutionValueEdit").html(solution);wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]');wysiwygEditorSolution.html(f);var t=$("#questionAnswer").html().replace(/\^/g,","),l=eval(t),o="",h=[];for(h=e.split("【】"),i=0;i<=h.length-1;i++)h[i]&&(o+=h[i],t.length-1>=i&&l[i]&&(o+="【",o+=l[i],o+="】"));wysiwygEditorFilling=createKindEdit('#question-edit-form #wysiwygEditorFilling textarea[class="kindeditor"]',editAfterBulrBlank);wysiwygEditorFilling.html(o)}else u==4?($("#raw_text").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionAnswerValueEdit").html(answerNomal),$("#questionSolutionValueEdit").html(solution),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorAnswer=createKindEdit('#question-edit-form #wysiwygEditorAnswer textarea[class="kindeditor"]',editAfterBulrAnswer),wysiwygEditorNoFilling.html(e),wysiwygEditorAnswer.html($("#questionAnswer").html()),wysiwygEditorSolution.html(f)):u==5?($("#code").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionSolutionValueEdit").html(solution),$("#questionAnswerValueEdit").html(answerAttachment),$("#wysiwygEditorAnswer").append('<span class="show" onclick="selectFile1(this)">'+$("#orgFileName").val()+"<\/span>"),isnull($("#attachmentId").val())||$("#answerNomalAttachment").hide(),$("#questionAnswerValueEdit #answerAttachment").val($("#attachmentId").val()),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorNoFilling.html(e),wysiwygEditorSolution.html(f)):u==6&&($("#practical").attr("checked",!0),$("#questionOptionValueEdit").empty(),$("#questionContentValueEdit").empty(),$("#questionAnswerValueEdit").empty(),$("#questionContentValueEdit").html(contentTypeNoFilling),$("#questionSolutionValueEdit").html(solution),$("#questionAnswerValueEdit").html(practical),$("#wysiwygEditorAnswer").append('<span class="show" onclick="selectFile2(this)">'+$("#orgFileName").val()+"<\/span>"),isnull($("#attachmentId").val())||$("#practicalNomalAttachment").hide(),$("#questionAnswerValueEdit #practicalAttachment").val($("#attachmentId").val()),wysiwygEditorNoFilling=createKindEdit('#question-edit-form #wysiwygEditorNoFilling textarea[class="kindeditor"]',editAfterBulr),wysiwygEditorSolution=createKindEdit('#question-edit-form #wysiwygEditorSolution textarea[class="kindeditor"]'),wysiwygEditorNoFilling.html(e),wysiwygEditorSolution.html(f));$("#question-edit-form input[name=questionTypeRadio]").attr("disabled","disabled");$("#question-edit-form").on("change",".uploadImg",function(){var t,n;if(s=this,t=this.value.split(".")[1].toUpperCase(),t!="BMP"&&t!="GIF"&&t!="JPEG"&&t!="PNG"&&t!="SVG"&&t!="JPG"){alertMsg("图片格式错误,请重新选择.");this.value="";return}n=$(this).attr("id");ajaxFileUpload(this.id,basePath+"/attachmentCenter/upload?projectName=kcenter&fileType=2",function(t){var i,r;$("#"+n).parent().find(".ace-file-name img").length==0&&($("#"+n).parent().find(".ace-file-name").append('<img class="middle"><i class=" ace-icon fa fa-picture-o file-image"><\/i>'),$("#"+n).parent().find(".ace-file-container").addClass("selected"),$("#"+n).parent().find(".ace-file-container").addClass("hide-placeholder"),$("#"+n).parent().find(".ace-file-container").removeAttr("data-title"),i=s.value.substring(s.value.lastIndexOf("\\")+1),$("#"+n).parent().find(".ace-file-name").attr("data-title",i));$("#"+n).parent().find(".ace-file-name img").attr("style","width: 50px; height: 50px;");$("#"+n).parent().find(".ace-file-name img").attr("src",basePath+"/attachmentCenter/download?aid="+t.id);r=n.replace("imgFile","uploadify");$("#"+r).val(t.id);validateOption()})});$("#question-edit-form").on("change","#answerNomalAttachment",function(){var i,n,t;if(s=this,i=this.value.split("."),n=i[i.length-1].toUpperCase(),n!="TXT"&&n!="DOC"&&n!="DOCX"&&n!="XLS"&&n!="XLSX"&&n!="ZIP"&&n!="RAR"){alertMsg("请上传txt,word,excel,zip,rar的附件格式.");this.value="";return}if(t=$(this).attr("id"),!validateImgSize(t,100))return alertMsg("附件大于100M,请重新选择."),this.value="",!1;mask("附件正在上传,请等待");ajaxFileUpload(this.id,basePath+"/attachmentCenter/upload?projectName=kcenter&fileType=2",function(n){unmask();$("#answerNomalAttachment").hide();$("#wysiwygEditorAnswer").find(".show").remove();$("#wysiwygEditorAnswer").append('<span class="show" onclick="selectFile1(this)">'+n.orgFileName+"<\/span>");$("#"+t).attr("value",n.fileName);$("#"+t).parent().parent("div").find("#answerAttachment").val(n.id)})});$("#question-edit-form").on("change","#practicalNomalAttachment",function(){var i,n,t;if(s=this,i=this.value.split("."),n=i[i.length-1].toUpperCase(),n!="TXT"&&n!="DOC"&&n!="DOCX"&&n!="XLS"&&n!="XLSX"&&n!="ZIP"&&n!="RAR"&&n!="BMP"&&n!="GIF"&&n!="JPEG"&&n!="PNG"&&n!="SVG"&&n!="JPG"){alertMsg("请上传txt,word,excel,zip,rar或者图片的附件格式.");this.value="";return}if(t=$(this).attr("id"),!validateImgSize(t,500))return alertMsg("素材大于500M,请重新选择."),this.value="",!1;mask("素材正在上传,请等待");ajaxFileUpload(this.id,basePath+"/attachmentCenter/upload?projectName=kcenter&fileType=2",function(n){unmask();$("#practicalNomalAttachment").hide();$("#wysiwygEditorAnswer").find(".show").remove();$("#wysiwygEditorAnswer").append('<span class="show" onclick="selectFile2(this)">'+n.orgFileName+"<\/span>");$("#"+t).attr("value",n.fileName);$("#"+t).parent().parent("div").find("#practicalAttachment").val(n.id)})})});OptionIndex=["A","B","C","D","E","F","G","H","I","J","K"];$("#question-edit-form").on("change","#questionOptionValueEdit input[name^='radioOptionValue']",function(){validateOption()});$("#question-edit-form").on("change","#questionOptionValueEdit input[name^='multipleOptionValue']",function(){validateOption()})