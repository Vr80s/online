<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.xczhihui.medical.doctor.mapper.MedicalDoctorApplyMapper">

     <select id="getLastOne" parameterType="String" resultType="com.xczhihui.medical.doctor.model.MedicalDoctorApply">
        SELECT id, name, title, description, tel, user_id,
          province, city, detailed_address, head_portrait,
          title_prove, card_positive, card_negative, qualification_certificate,
          professional_certificate, status, create_time, remark
        FROM medical_doctor_apply
        WHERE user_id = #{userId} AND deleted = 0
        ORDER BY create_time
        limit 1
     </select>

    <update id="delete" parameterType="String">
        UPDATE medical_doctor_apply
        SET deleted = 1
        WHERE user_id = #{userId}
    </update>
</mapper>