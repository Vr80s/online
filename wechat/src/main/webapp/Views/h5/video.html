<!DOCTYPE html>
<!-- saved from url=(0047)http://cnstatic01.e.vhall.com/jssdk/dist/2.3.1/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <title></title>
    <link rel="stylesheet" href="//cnstatic01.e.vhall.com/3rdlibs/mCustomScrollbar/3.0.8/jquery.mCustomScrollbar.min.css">
    <style type="text/css">
    html,
    body ,*{
        margin: 0;
        padding: 0;
        font-family: 'Microsoft Yahei';
    }
    
    .container {
        height: 100%;
        width: 100%;
        padding: 36px 0 70px;
        position: absolute;
        box-sizing: border-box;
    }
    
    .header {
        position: absolute;
        width: 100%;
        height: 36px;
        line-height: 36px;
        top: 0;
        background-color: #201f25;
    }
    .header a{
        width: 50%;
        display: inline-block;
        text-align: center;
        text-decoration: none;
        color: #ddd;
    }
    .header a.active{
        background-color: #ff3333;
        color: #ffffff;
    }

    .chatmsg-box ,.question-msg-box{
        height: 100%;
        display: none;
        overflow-y: auto;
        background-color: #282830;
    }
    .chatmsg-box.active,.question-msg-box.active {
        display: block;
    }
    
    .mCSB_inside>.mCSB_container {
        margin-right: 0;
    }
    
    .send-box {
        position: fixed;
        bottom: 0px;
        height: 70px;
        background: #201f25;
        width: 100%;
        color: #bcbcbc;
    }
    
    .send-box textarea {
        height: 40px;
        width: 100%;
        resize: none;
        outline: none;
        background-color: #201f25;
        border: none;
        padding: 10px;
        color: #bcbcbc;
        box-sizing: border-box;
    }
    
    .send-box .face {
        position: absolute;
        right: 70px;
        display: inline-block;
        width: 22px;
        height: 22px;
        background-color: red;
        background: url(http://cnstatic01.e.vhall.com/static//images/chat/chat-icon.png) no-repeat 0 -72px;
        margin-top: 45px;
    }
    
    .send-chat {
        margin-top: 45px;
        position: absolute;
        right: 5px;
        display: inline-block;
        width: 52px;
        height: 20px;
        font-size: 12px;
        line-height: 20px;
        vertical-align: middle;
        background-color: #353540;
        text-decoration: none;
        color: #ffffff;
        border-radius: 3px;
        text-align: center;
    }
    
    .chatmsg li {
        overflow: hidden;
        padding: 10px 22px;
        text-align: left;
        list-style: none;
    }
    
    .chatmsg li a {
        text-decoration: none;
    }
    
    .chatmsg li img {
        vertical-align: middle;
    }
    
    .chatmsg li .avatar {
        display: inline-block;
        float: left;
        border-radius: 50%;
        overflow: hidden;
        line-height: 0;
        position: absolute;
        left: 15px;
    }
    
    .chatmsg li .msg {
        float: left;
        margin-left: 45px;
    }
    
    .chatmsg li .msg p {
        color: #6f6e6e;
        line-height: 16px;
        font-size: 12px;
        margin: 0
    }
    
    .chatmsg li .msg p .tips {
        display: inline-block;
        float: left;
        text-align: center;
        border: 1px solid #ff3333;
        font-size: 12px;
        width: 42px;
        height: 16px;
        line-height: 16px;
        margin-right: 10px
    }
    
    .chatmsg li .msg p .tips.host {
        color: #ff3333;
        border: 1px solid #ff3333
    }
    
    .chatmsg li .msg p .tips.guest {
        color: #a4824b;
        border: 1px solid #ffc864
    }
    
    .chatmsg li .msg p .tips.assistant {
        color: #446ea4;
        border: 1px solid #5da6fc
    }
    
    .chatmsg li .msg p .name {
        display: inline-block;
        color: #6f6e6e;
        width: 128px;
        line-height: 18px;
        vertical-align: middle;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left
    }
    
    .chatmsg li .msg p .time {
        float: right
    }
    
    .chatmsg li .msg .content {
        line-height: 18px;
        font-size: 14px;
        color: #bcbcbc;
        word-wrap: break-word;
        word-break: break-all;
        margin-top: 8px
    }
    
    .chatmsg li .msg .content.sys {
        color: #ffffff
    }
    
    .chatmsg li .msg .content.sys a {
        color: #ff3333
    }
    
    .chatmsg li .msg .content.redp {
        color: #ffffff
    }
    
    .chatmsg li .msg .content.redp .name {
        display: inline-block;
        color: #ffffff;
        width: auto;
        max-width: 128px;
        text-overflow: ellipsis;
        white-space: nowrap;
        text-align: left
    }
    /*.chatmsg li .msg .content.redp .redppic {
        display: inline-block;
        width: 16px;
        height: 16px;
        vertical-align: middle;
        background: url(../../../images/chat/chat-icon.png?v=Pe5BDO7TTnbOHwyYAzJblg%3D%3D) no-repeat;
        background-position: -4px -113px
    }*/
    
    .chatmsg li .msg .content.redi {
        color: #fbd75a
    }
    .question-msg li a{text-decoration: none;}
    .question-msg li{overflow:hidden;padding:10px 22px;text-align:left;list-style-type: none;}
    .question-msg li .avatar{display:inline-block;float:left;border-radius:50%;overflow:hidden;line-height:0}
    .question-msg li .msg{margin-left:45px;}
    .question-msg li .msg p{color:#6f6e6e;line-height:16px;font-size:12px;margin:0;padding-right: 10px;}
    .question-msg li .msg p .tips{display:inline-block;float:left;text-align:center;border:1px solid #ff3333;font-size:12px;width:42px;height:16px;line-height:16px;margin-right:10px}
    .question-msg li .msg p .tips.host{color:#ff3333;border:1px solid #ff3333}
    .question-msg li .msg p .tips.guest{color:#a4824b;border:1px solid #ffc864}
    .question-msg li .msg p .tips.assistant{color:#446ea4;border:1px solid #5da6fc}
    .question-msg li .msg p .name{display:inline-block;color:#6f6e6e;width:128px;line-height:18px;vertical-align:middle;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;text-align:left;text-decoration: none;}
    .question-msg li .msg p .time{float:right}
    .question-msg li .msg .content{line-height:18px;font-size:14px;color:#bcbcbc;word-wrap:break-word;word-break:break-all;margin-top:8px}
    .question-msg li .answerlist{position:relative;margin-left:42px;margin-top:10px;border-radius:3px;border:1px solid #393940;background-color:#202026;padding:10px}
    .question-msg li .answerlist .triangle{position:absolute;top:-10px;left:14px;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent;border-bottom:10px solid #37373e;font-size:0;line-height:0}
    .question-msg li .answerlist .triangle div{position:absolute;top:2px;left:-8.5px;width:0;height:0;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #202026;font-size:0;line-height:0}
    .question-msg li .answerlist ul li{padding:0}
    .question-msg li .answerlist ul li p{font-size:12px;color:#909090;line-height:20px;vertical-align:middle}
    .question-msg li .answerlist ul li p .role{color:#f34b46}
    .question-msg li .answerlist ul li p .role.host{color:#ff3333}
    .question-msg li .answerlist ul li p .role.guest{color:#a4824b}
    .question-msg li .answerlist ul li p .role.assistant{color:#446ea4}
    .question-msg li .answerlist ul li p .time{float:right}
    .question-msg li .answerlist ul li .content{color:#e2e1e1;word-wrap:break-word;word-break:break-all}

    .video{position: absolute;width: 100%;height: 200px;top: 36px;}
    .doc{position: absolute;width: 100%;height: 200px;top: 236px;}
    .video.on{height: 1px;}
    .doc.on{display: none;}
    .hideVideo {position: absolute;right: 5px;bottom: 40px;}
    .modal {display: none;position: fixed;z-index: 1001; top: 0;left: 0;height: 100%;width: 100%;background: #e1e1e1;}
    .modal{
        box-sizing: border-box;
        padding: 50px 0; 
    }
    .modal li {line-height: 30px;text-align: center;}
    .modal li.active{color: #ff3333;}
    .exchange{bottom: 70px;}
    </style>
<style type="text/css">.facebox-pc{background:#f7f7f7;padding:2px;border:1px solid #afafaf;position:absolute;display:none;z-index:2;top:-266px;left:0}.facebox-pc table td{padding:0}.facebox-pc table td img{cursor:pointer;border:1px solid #f7f7f7}.facebox-pc table td img:hover{border:1px solid #06c}.facebox-mobile{background:#fff;border-top:1px solid #ddd;position:absolute;display:none;z-index:2;overflow:hidden;height:170px;padding:0 1%;top:-170px}.facebox-mobile .qqFace-mobile{float:left}.facebox-mobile .qqFace{float:left;text-align:left}.facebox-mobile li{display:inline-block;padding:10px 0;width:14%;text-align:center}.facebox-mobile .text-center a{width:10px;height:10px;border-radius:100%;background:#ddd;border:none;color:#fff;margin:5px 15px 0 0;display:inline-block;text-decoration:none}.facebox-mobile .text-center a.active{background:#ff3334}.facebox-mobile .text-center{text-align:center}</style></head>

<body>
    <div class="container">
        <div class="header">
            <a href="javascript:;" data-target="chatmsg-box" class="active">聊天</a><a href="javascript:;" data-target="question-msg-box">问答</a>
        </div>
        <div class="chatmsg-box tab-pane active mCustomScrollbar _mCS_1 mCS_no_scrollbar"><div id="mCSB_1" class="mCustomScrollBox mCS-light mCSB_vertical mCSB_inside" tabindex="0"><div id="mCSB_1_container" class="mCSB_container mCS_y_hidden mCS_no_scrollbar_y" style="position:relative; top:0; left:0;" dir="ltr">
            <div class="chatmsg" id="chatmsg">
            </div>
        </div><div id="mCSB_1_scrollbar_vertical" class="mCSB_scrollTools mCSB_1_scrollbar mCS-light mCSB_scrollTools_vertical" style="display: none;"><div class="mCSB_draggerContainer"><div id="mCSB_1_dragger_vertical" class="mCSB_dragger" style="position: absolute; min-height: 30px; top: 0px;" oncontextmenu="return false;"><div class="mCSB_dragger_bar" style="line-height: 30px;"></div></div><div class="mCSB_draggerRail"></div></div></div></div></div>
        <div class="question-msg-box tab-pane mCustomScrollbar _mCS_2 mCS_no_scrollbar"><div id="mCSB_2" class="mCustomScrollBox mCS-light mCSB_vertical mCSB_inside" tabindex="0"><div id="mCSB_2_container" class="mCSB_container mCS_y_hidden mCS_no_scrollbar_y" style="position:relative; top:0; left:0;" dir="ltr">
            <div class="question-msg" id="question-msg">
            </div>
        </div><div id="mCSB_2_scrollbar_vertical" class="mCSB_scrollTools mCSB_2_scrollbar mCS-light mCSB_scrollTools_vertical" style="display: none;"><div class="mCSB_draggerContainer"><div id="mCSB_2_dragger_vertical" class="mCSB_dragger" style="position: absolute; min-height: 30px; top: 0px;" oncontextmenu="return false;"><div class="mCSB_dragger_bar" style="line-height: 30px;"></div></div><div class="mCSB_draggerRail"></div></div></div></div></div>
        <div class="send-box">
            <a id="face" href="javascript:;" class="face"></a>
            <a id="sendChat" href="javascript:;" class="send-chat">发送</a>
            <textarea id="mywords" onkeypress="if(event.keyCode == 13 &amp;&amp; !event.shiftKey){document.getElementById(&#39;sendChat&#39;).click();return false;}return true;"></textarea>
        </div>
        <a href="javascript:;" class="hideVideo exchange" id="exchange">切换线或清晰度</a>
        <a href="javascript:;" class="hideVideo" id="hideVideo">隐藏视频和文档</a>
        <div class="video" id="video"></div>
        <div class="doc" id="doc"></div>
        <div class="modal" id="modal">
            <ul id="lines"></ul>
            <ul id="definitions"></ul>
        </div>
    </div>
    <script type="text/javascript" src="/Views/h5/js/jquery.min.js"></script>
    <script src="http://cnstatic01.e.vhall.com/3rdlibs/mCustomScrollbar/3.0.8/jquery.mCustomScrollbar.concat.min.js"></script><!--//static01.t.vhall.com-->
    <script type="text/javascript" src="http://cnstatic01.e.vhall.com/jssdk/dist/2.3.1/vhallSDK.js?v=20170113121"></script>
    <script type="text/javascript" src="http://apps.bdimg.com/libs/underscore.js/1.7.0/underscore-min.js"></script>
    <script type="text/javascript" src="/Views/h5/js/mui.min.js"></script>
    <script src="/Views/h5/js/common.js"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        function getQueryString(name) { 
            var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)", "i"); 
            var r = window.location.search.substr(1).match(reg); 
            if (r != null) {
            	console.info(unescape(r[2]));
            	return unescape(r[2]);
            }
            	 return ''; 
        }
        $("#exchange").click(function(){
            $("#modal").show();
        });
        $("#lines").on("click", 'li', function(){
            var _line = $(this).text();
            $(this).siblings('li').removeClass('active');
            $(this).addClass('active');
            VHALL_SDK.player.setPlayerLine(_line);
            $("#modal").hide();
        });
        $("#definitions").on("click", 'li', function(){
            var _line = $(this).text();
            $(this).siblings('li').removeClass('active');
            $(this).addClass('active');
            VHALL_SDK.player.setPlayerDefinition(_line);
            $("#modal").hide();
        });
        $(".header").on('click', 'a', function(){
            var target = $(this).attr("data-target");
            $(".header a").removeClass('active');
            $(this).addClass('active');
            $(".tab-pane").removeClass("active");
            $("." + target).addClass('active');
        });
        $("#hideVideo").click(function(){
            $("#video").toggleClass("on");
            $("#doc").toggleClass("on");
        });
        var urlparm = {
        		video_id :sessionStorage.getItem("video_id")
			};
        requestService("/bxg/video/videoInfo",urlparm,function(data) {
			if(data.success) {
				console.info(data)
				var configresult = data.resultObject;	
				VHALL_SDK.init({
		            facedom: "#face",
		            textdom: "#mywords",
		            app_key: configresult.app_key,// 第三方app_key
		            signedat: configresult.signedat,// 签名时间戳
		            sign: configresult.sign,// 签名
		            email: configresult.email,
		            roomid: configresult.id,// 活动id
		            account: configresult.account,// 第三方用户id
		            username: configresult.username,// 用户昵称
		            videoContent: "#video",
		            docContent: "#doc"
		        }); 
			}
		},true);
        
         
        /* VHALL_SDK.init({
        	   account : '123456',//必填，唯一用户id，与使用第三方创建用户接口所传的third_user_id需一致）
        	   email : 'yuruixin_china@163.com',//参数必填，值可为空，用于与嵌入视频区用户同步
        	   username : '卡其',//必填，用户昵称用以在各模块中显示
        	   roomid :'997131592',//必填，当前聊天所在活动id
        	   app_key :'71a22e5b4a41483d41d96474511f58f3',//必填，启用服务唯一验证，API/SDK权限申请后生成,此参数名在1.0.0版本中为appkey，使用当前版本时请更新
        	   signedat :'1499924930',//必填，启用服务唯一验证，unix时间戳
        	   sign :'1499924930',//必填，启用服务唯一验证，有效期一小时，见下面的生成规则
        	   facedom :'',//可选，当使用微吼表情时必填，呼出表情弹窗dom属性 如（'#id','.class'等）
        	   textdom : '',//可选，当使用微吼表情时必填，插入表情文本dom属性 如（'#id','.class'等）
        	   videoContent : '',//【新】可选，当需要使用视频模块时，插入视频dom属性 如（'#id','.class'等）
        	   docContent: '',//【新】可选，当需要使用文档模块时，插入视频dom属性 如（'#id','.class'等）
        	}); */
        
        //使用underscore.js的template模板引擎
        var chat_template = _.template($("#chat-template").html());
        var question_template = _.template($("#question-template").html());
        /**
         * [onChatMessage 直播收到聊天消息]
         * @param  {[type]} msg [object]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('chatMsg', function(msg) {
            $("#chatmsg").append(chat_template(msg));
            $(".chatmsg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '99999');
        });
        VHALL_SDK.on('questionMsg', function(msg) {
            console.log('问答', msg);
            $("#question-msg").append(question_template(msg));
            $(".question-msg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '99999');
        });
        VHALL_SDK.on('ready', function() {
            if (VHALL_SDK.getRoominfo().type == 1) {
                //当前直播中
                VHALL_SDK.vhall_get_live_history_chat_msg();
                VHALL_SDK.vhall_get_live_history_question_msg();
            } else {
                //当前不在直播
                VHALL_SDK.vhall_get_record_history_chat_msg();
            }
        });
        /**
         * [用户上线]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('userOnline', function(msg) {
            console.log(msg);
        });
        /**
         * [onUserOffline 用户下线]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('userOffline', function(msg) {
            console.log(msg);
        });
        
        /**
         * [onSendChatSuccess 消息发送回调事件]
         * @return {[type]} [description]
         */
        VHALL_SDK.on('sendChat', function(msg) {
            console.log(msg);
        });
        /**
         * [onSendChatSuccess 问答消息发送回调事件]
         * @return {[type]} [description]
         */
        VHALL_SDK.on('sendQuestion', function(msg) {
            console.log(msg);
        });
        /**
         * [onSendChatSuccess 直播禁言消息]
         * @return {[type]} [description]
         */
        VHALL_SDK.on('disableChat', function(msg) {
            console.log('禁言', msg);
        });
        /**
         * [onPermitChat 直播恢复禁言消息]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('permitChat', function(msg) {
            console.log('恢复禁言', msg);
        });
        /**
         * [onForbidChat 直播全体禁言消息]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('forbidChat', function(msg) {
            console.log('全体禁言', msg);
        });
        /**
         * [onKickout 直播踢出消息]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('kickout', function(msg) {
            console.log('踢出', msg);
        });
        /**
         * [onKickoutRestore 直播恢复踢出消息]
         * @param  {[type]} msg [description]
         * @return {[type]}     [description]
         */
        VHALL_SDK.on('kickoutRestore', function(msg) {
            console.log('恢复踢出', msg);
        });
        VHALL_SDK.on('questionSwitch', function(msg) {
            if (msg.status == 1) {
                alert('问答已开启');
            } else {
                alert('问答已关闭');
            }
            
        });
        VHALL_SDK.on('streamOver', function(msg) {
            alert('活动已结束');            
        });
        VHALL_SDK.on('publishStart', function(msg) {
            alert('活动开始推流');            
        });
        VHALL_SDK.on('vhall_live_history_chat_msg', function(res) {
            if (res.code == 200 ) {
                var str = '';
                for (var i = res.data.length - 1; i >= 0; i--) {
                    str += chat_template(res.data[i]);
                }
                $("#chatmsg").append(str);
                setTimeout(function(){
                    $(".chatmsg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '999999');
                },50);
            }
        });
        VHALL_SDK.on('vhall_record_history_chat_msg', function(res) {
            if (res.code == 200 ) {
                var str = '';
                $("#chatmsg").data('curr_page', res.curr_page);
                for (var i = res.data.length - 1; i >= 0; i--) {
                    str += chat_template(res.data[i]);
                }
                if (res.curr_page == 1){
                    $("#chatmsg").html(str);
                    setTimeout(function(){
                        $(".chatmsg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '999999');
                    },50);
                }
                else {
                    $("#chatmsg").prepend(str);
                    $(".chartlist").mCustomScrollbar("update").mCustomScrollbar('scrollTo', '20px');
                }
                
            }
        });
        /**
         * 问答历史
         */
        VHALL_SDK.on('getQuestionList', function(res) {
            if (res.code == 200 ) {
                var str = '';
                for (var i = res.data.length - 1; i >= 0; i--) {
                    str += question_template(res.data[i]);
                }
                $("#question-msg").append(str);
                setTimeout(function(){
                    $(".chatmsg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '999999');
                },50);
            }
        });
        $(".chatmsg-box").mCustomScrollbar({
            scrollInertia: 200,
            callbacks: {
                onTotalScrollBack: function() {
                    if (VHALL_SDK.room.type != '1') {
                        var curr_page = parseInt($('#chatmsg').data('curr_page'));
                        VHALL_SDK.vhall_get_record_history_chat_msg(curr_page + 1);
                    }
                }
            }
        });
        $("#sendChat").click(function() {
            var text = $("#mywords").val();
            var msg = null;
            if ($('.tab-pane.active').hasClass('chatmsg-box')) {
                msg = VHALL_SDK.sendChat({
                    text: text
                });
                if (msg)
                    $("#chatmsg").append(chat_template(msg));
                $("#mywords").val('');
                $(".chatmsg-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '999999');
            } else {
                msg = VHALL_SDK.sendQuestion({
                    text: text
                });
                if (msg)
                    $("#question-msg").append(question_template(msg));
                $("#mywords").val('');
                $(".question-box").mCustomScrollbar('update').mCustomScrollbar('scrollTo', '999999');
            }
        });
        VHALL_SDK.on("playerReady", function(){
            	/**
            	 * 设备准备就绪后
            	 */
            	$("video").attr("x5-playsinline", "");
            	/* $("video").attr("poster", "img/center1.jpg"); */
            /**
             * 可播线路消息
             */
            VHALL_SDK.player.on('canPlayLines', function(msg) {
                var _src = '';
                for (var i in msg) {
                    _src += '<li>' + i + '</li>';
                }
                $("#lines").html(_src).find("li").eq(0).addClass('active');
            });
            /**
             * 可播清晰度消息
             */
            VHALL_SDK.player.on('canPlayDefinitions', function(msg) {
                var _src = '';
                for (var i in msg) {
                    _src += '<li>' + i + '</li>';
                }
                $("#definitions").html(_src).find("li").eq(0).addClass('active');
            });
        });
    });
    </script>
    <script type="text/template" id="chat-template">
        <li uid="<%= user_id%>">
            <a class="avatar" href="javascript:;" title="<%= user_name%>"><img src="<%= avatar%>" width="32" height="32" onerror="this.src='//cnstatic01.e.vhall.com/static/images/watch/head50.png'" class=""></a>
            <div class="msg">
                <p>
                    <% if (role == 'assistant') {%>
                        <a class="tips assistant" href="javascript:;">助理</a>
                        <% } else if (role == 'host') {%>
                            <a class="tips host" href="javascript:;">主持人</a>
                            <% } else if (role == 'guest') {%>
                                <a class="tips guest" href="javascript:;">嘉宾</a>
                                <% } %>
                                    <a class="name" href="javascript:;" title="<%= user_name%>">
                                        <%= user_name%>
                                    </a>
                </p>
                <p class="content">
                    <% print(content) %>
                </p>
            </div>
        </li>
    </script>
    <script type="text/template" id="question-template">
        <li question-id="<%= data.id %>" uid="<%= data.join_id %>">
            <a class="avatar" href="javascript:;"><img src="//cnstatic01.e.vhall.com/static/images/watch/question.png" width="32" height="32"></a>
            <div class="msg">
                <p>
                    <a class="name" href="javascript:;" title="<%= data.nick_name%>"><%= data.nick_name%></a>
                    <span class="time"><%= data.created_at %></span></p>
                <p class="content"><%= data.content %></p>
            </div>
            <% if (data.answer) { 
                switch (data.answer.role_name) {
                    case 'host' :
                        data.answer.role = '主持人';
                        break;
                    case 'guest' :
                        data.answer.role = '嘉宾';
                        break;
                    default :
                        data.answer.role = '助理';
                        break;
                }
            %>
            <div class="answerlist" answer-id="<%= data.answer.id %>">
                <div class="triangle">
                    <div></div>
                </div>
                <ul>
                    <li>
                        <p><%= data.answer.nick_name %> | <a class="role <%=  data.answer.role_name %>" href="javascript:;"><%=  data.answer.role %>回答</a>
                            <span class="time"><%= data.answer.created_at %></span>
                        </p>
                        <p class="content"><%= data.answer.content %></p>
                    </li>
                </ul>
            </div>
            <%}%>
        </li>            
    </script>



</body></html>