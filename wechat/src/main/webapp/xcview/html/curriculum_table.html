<!doctype html>
<html>
<head>
<meta charset="utf-8">
<!--<title>消费明细</title>-->
<title>熊猫中医</title>
<!--这段meta代码需要加上，移动端自适应缩放用-->
<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta name="keywords" content="" />
<meta name="description" content="" />
<link rel="stylesheet" href="../css/curriculum_table.css" />
</head>
<body style="background: #F8F8F8;">
	
	<!--头部开始-->
	<header>
		<div class="header">
			<div class="header_return">
				<img src="/xcview/images/back icon.png">
			</div>
			<div class="header_seek"> 
				<div class="header_seek_main">
					<img src="/xcview/images/sousuo0.png" alt="" onclick="queryByKey()">
				</div>
			</div>
		</div>
	</header>
	<!--头部结束-->
	
	
	<div class="top_border">
		<div class="screen_size">
       		<img src="/xcview/images/shu_top.png" class="img0">
       		<img src="/xcview/images/screen.png" class="img1">
       		<span class="btn">筛选</span>
       	</div>
		<div class="">
			<div class="find_nav" style="display: none1;">
			    <div class="find_nav_left">
			        <div class="find_nav_list" style="left: 0px;">
			            <ul id="pagenavi1">
			                <!-- <li class="find_nav_cur"><a href="javascript: ;" class="">全部</a></li> -->
			                <!-- <li><a href="javascript: ;">各式推拿</a></li>
			                <li><a href="javascript: ;">针灸疗法</a></li>
			                <li><a href="javascript: ;">美容养生</a></li>
			                <li><a href="javascript: ;">按摩按摩</a></li>
			                <li><a href="javascript: ;">推拿推拿</a></li> -->
			                <!-- <li class="sideline" style="left: 0px; width: 96px;"></li> -->
			            </ul>
			        </div>
			    </div>
			</div>
		</div>
	</div>
	 <div class="hint">
		筛选：<span id="sxtj"></span>
	</div>
	<div id="slider1" class="swipe" style="overflow: hidden; visibility: visible; list-style: none; position: relative;">
		<ul class="box01_list" style="position: relative; transition: left 0ms ease-out; width: 19200px; left: 0px;">
			
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
			<li class="li_list">
				<div class="li_list_main">
				</div>
			</li>
		</ul>

	</div>
	
	
	<!--点击筛选内容开始-->
	<div class="btn_show">
		<div class="btn_show_bg btn_show_main_close" style="display: block1;"></div>
		<div class="btn_show_main div_right0">
			<div class="all_classify_right">筛选</div>
			<div class="all_mold all_mold0">
				<div class="all_classify_right_type">分类</div>
				<div class="all_right_type all_right_type_ones" id="draw_type_list">
					<script type="text/html" id="type_list">
						{{each items as item i}}
							<div class="all_right_type_one" title="{{item.id}}">{{item.name}}</div>
						{{/each}}		
				    </script>	
<!-- 					<div class="all_right_type_one">针灸疗法</div>
					<div class="all_right_type_one">各式推拿</div>
					<div class="all_right_type_one">美容养生</div>
					<div class="all_right_type_one">药膳食疗</div>
					<div class="all_right_type_one">古籍经典</div>
					<div class="all_right_type_one">各家综合</div>
					<div class="all_right_type_one">脉诊大全</div> -->
				</div>
				<div class="both"></div>
			</div>
			<div class="all_mold all_mold1">
				<div class="all_classify_right_type">收费</div>
				<div class="all_right_type" id="draw_isfree_list">
					<script type="text/html" id="isfree_list">
						{{each items as item i}}
							<div class="all_right_type_one" title="{{item.id}}">{{item.name}}</div>
						{{/each}}		
				    </script>
<!-- 					<div class="all_right_type_one">免费</div>
					<div class="all_right_type_one">收费</div> -->
					<div class="both"></div>
				</div>
			</div>
			<div class="all_mold all_mold2">
				<div class="all_classify_right_type">类型</div>
				<div class="all_right_type" id="draw_course_big_list">
					<!-- <div class="all_right_type_one">视频课程</div>
					<div class="all_right_type_one">直播课程</div>
					<div class="all_right_type_one">音频课程</div>
					<div class="all_right_type_one">线下课程</div> -->
					
					<script type="text/html" id="course_big_list">
						{{each items as item i}}
							<div class="all_right_type_one" title="{{item.id}}">{{item.name}}</div>
						{{/each}}		
				    </script>
					
					<div class="both"></div>
				</div>
			</div>
			<div class="all_mold all_mold3">
				<div class="all_classify_right_type">城市</div>
				<div class="all_right_type all_right_type_twos" id="draw_city_list">
				<!-- 	<div class="all_right_type_one">上海</div>
					<div class="all_right_type_one">广州</div>
					<div class="all_right_type_one">成都</div>
					<div class="all_right_type_one">上海</div>
					<div class="all_right_type_one">广州</div>
					<div class="all_right_type_one">成都</div> -->
					<script type="text/html" id="city_list">
						{{each items as item i}}
							<div class="all_right_type_one" title="{{item.id}}">{{item.name}}</div>
						{{/each}}		
				    </script>
				</div>
				<div class="both"></div>
			</div>
			<div class="all_mold all_mold4">
				<div class="all_classify_right_type">直播状态</div>
				<div class="all_right_type" id="draw_live_status_list">
			<!-- 		<div class="all_right_type_one">直播中</div>
					<div class="all_right_type_one">待直播</div>
					<div class="all_right_type_one">精彩回放</div> -->
					<script type="text/html" id="live_status_list">
						{{each items as item i}}
							<div class="all_right_type_one" title="{{item.id}}">{{item.name}}</div>
						{{/each}}		
				    </script>
					<div class="both"></div>
				</div>
			</div>
			<div class="" style="width: 100%;height: 0.89rem;display: none;"></div>
			<div class="all_bottom">
				<div class="all_bottom_btn0">重置</div>
				<div class="all_bottom_btn1">确认</div>
			</div>
		</div>
	</div>
	<!--点击筛选内容结束-->
	
</body>
<script>
	var kk=document.documentElement.clientWidth;
	if(kk>750){
		kk=750
	}
	
	document.documentElement.style.fontSize=kk/7.5+"px"		
</script>


<script type="text/javascript" src="../js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="../../Views/h5/js/mui.min.js"></script>
<script type="text/javascript" src="../../Views/h5/js/common.js"></script>
<script type="text/javascript" src="../js/template.js"></script>

<script src="../js/table/jquery-1.10.2.js"></script>
<script src="../js/table/jquery.min.js"></script>
<script type="text/javascript" src="../js/table/touchslider.js"></script>
<script type="text/javascript" src="/xcview/js/curriculum_table.js"></script>
<script type="text/javascript">

// 给li定义高度，配合css使li独立滚动
var $window = $(window);
var initialWindowHeight = null;

$window.resize(function() {
	sliderHeight();
});

sliderHeight();
function sliderHeight(){
	var wHeight = $(window).height();
	var sliderHeight = wHeight - 70
	
	$(".swipe li").height(sliderHeight);
}

$(".find_nav_list").css("left",0);

$(".find_nav_list li").each(function(){
		$(".sideline").css({left:0});
		$(".find_nav_list li").eq(0).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");
});
var nav_w=$(".find_nav_list li").first().width();
$(".sideline").width(nav_w);
$(".find_nav_list li").on('click', function(){
	/*alert("-------------");*/
	nav_w=$(this).width();
	$(".sideline").stop(true);
	$(".sideline").animate({left:$(this).position().left},300);
	$(".sideline").animate({width:nav_w});
	$(this).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");
	var fn_w = ($(".find_nav").width() - nav_w) / 2;
	var fnl_l;
	var fnl_x = parseInt($(this).position().left);
	if (fnl_x <= fn_w) {
		fnl_l = 0;
	} else if (fn_w - fnl_x <= flb_w - fl_w) {
		fnl_l = flb_w - fl_w;
	} else {
		fnl_l = fn_w - fnl_x;
	}
	$(".find_nav_list").animate({
		"left" : fnl_l
	}, 300);
	
});
var fl_w=$(".find_nav_list").width();
var flb_w=$(".find_nav_left").width();
$(".find_nav_list").on('touchstart', function (e) {
	var touch1 = e.originalEvent.targetTouches[0];
	x1 = touch1.pageX;
	y1 = touch1.pageY;
	ty_left = parseInt($(this).css("left"));
});
$(".find_nav_list").on('touchmove', function (e) {
	var touch2 = e.originalEvent.targetTouches[0];
	var x2 = touch2.pageX;
	var y2 = touch2.pageY;
	if(ty_left + x2 - x1>=0){
		$(this).css("left", 0);
	}else if(ty_left + x2 - x1<=flb_w-fl_w){
		$(this).css("left", flb_w-fl_w);
	}else{
		$(this).css("left", ty_left + x2 - x1);
	}
	if(Math.abs(y2-y1)>0){
		e.preventDefault();
	}
});


for(n=1;n<9;n++){
	var page='pagenavi'+n;
	var mslide='slider'+n;
	var mtitle='emtitle'+n;
	arrdiv = 'arrdiv' + n;
	var as=$("#" + page + "").find("a");
	var tt=new TouchSlider({id:mslide,'auto':'-1',fx:'ease-out',direction:'left',speed:600,timeout:5000,'before':function(index){
		var as=document.getElementById(this.page).getElementsByTagName('a');
		as[this.p].className='';
		this.p=index;
		
		fnl_x =  parseInt($(".find_nav_list li").eq(this.p).position().left);
		
		nav_w=$(".find_nav_list li").eq(this.p).width();
		$(".sideline").stop(true);
		$(".sideline").animate({left:$(".find_nav_list li").eq(this.p).position().left},300);
		$(".sideline").animate({width:nav_w},100);
		
		//alert("js 底部");
		$(".find_nav_list li").eq(this.p).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");
		
		//滑动完了后调用的是这个防范
		
		typeQuery();
		
		
		var fn_w = ($(".find_nav").width() - nav_w) / 2;
		var fnl_l;
		if (fnl_x <= fn_w) {
			fnl_l = 0;
		} else if (fn_w - fnl_x <= flb_w - fl_w) {
			fnl_l = flb_w - fl_w;
		} else {
			fnl_l = fn_w - fnl_x;
		}
		$(".find_nav_list").animate({
			"left" : fnl_l
		}, 300);
	}});
	tt.page = page;
	tt.p = 0;
	//console.dir(tt); console.dir(tt.__proto__);

	for(var i=0;i<as.length;i++){
		(function(){
			var j=i;
			as[j].tt = tt;
			as[j].onclick=function(){
				this.tt.slide(j);
				return false;
			}
		})();
	}
}

</script>


<script>
		window.onload = function(){
			$(".btn").click(function(){
				$(".btn_show").fadeIn();
				$(".btn_show_bg").fadeIn();
				$(".btn_show_main").addClass('div_right0');
				$(".btn_show_main").removeClass('div_right')
			});
			$(".btn_show_main_close").click(function(){
				$(".btn_show_main").addClass('div_right');
				$(".btn_show_main").removeClass('div_right0');
				$(".btn_show_bg").hide(800);
			});
			$(".all_bottom_btn1").click(function(){
				
				
				$(".btn_show_main").addClass('div_right');
				$(".btn_show_main").removeClass('div_right0');
				$(".btn_show_bg").hide(800);
				
				submit();
			});
			
//			点击筛选下面的内容框
			$(".all_mold0 .all_right_type_one").click(function(){
				$(".all_mold0 .all_right_type_one").removeClass("all_right_type_one_add");
				$(this).addClass("all_right_type_one_add");
				
			});
			//收费
			$(".all_mold1 .all_right_type_one").click(function(){
				$(".all_mold1 .all_right_type_one").removeClass("all_right_type_one_add");
				$(this).addClass("all_right_type_one_add");
				
			});
			$(".all_mold2 .all_right_type_one").click(function(){
				$(".all_mold2 .all_right_type_one").removeClass("all_right_type_one_add");
				$(this).addClass("all_right_type_one_add");
				

				
			});
			$(".all_mold3 .all_right_type_one").click(function(){
				$(".all_mold3 .all_right_type_one").removeClass("all_right_type_one_add");
				$(this).addClass("all_right_type_one_add");
			});
			$(".all_mold4 .all_right_type_one").click(function(){
				$(".all_mold4 .all_right_type_one").removeClass("all_right_type_one_add");
				$(this).addClass("all_right_type_one_add");
			});
			
//			点击重置
			$(".all_bottom_btn0").click(function(){
				$(".all_mold .all_right_type_one").removeClass("all_right_type_one_add");
			});
			
			
		};
		
//顶部搜索框的提示添加
 		var historyTip='';
 		var modile = localStorage.hisArr;
 		if(stringnull(modile)){
 			historyTip=localStorage.hisArr.split(',')
 			$('.header_seek').append('<span>' + historyTip[0] + '</span>');
 		}
//		console.log(historyTip[0])
		
		
	</script>
	
</html>








